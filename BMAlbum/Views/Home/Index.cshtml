@model HomeModel
@{
    ViewData["Title"] = "Foto-albums";
}

<div id="main" class="scroll_container bordered-slimbar">
<header class="full-width">
   <nav class="full-width">
      <div id="searchbar">
         <div class="labeled-input">
            <label class="lcell" for="searchq">Zoek:</label>
            <div class="rcell">
                  <input type="search" id="searchq" class="input-cell" autocomplete="off" placeholder="Type hier uw zoekterm...">
            </div>
         </div>
         <div class="labeled-input">
            <label class="lcell" for="albums">Album:</label>
            <div class="rcell">
               <select id="albums" class="input-cell"></select>
            </div>
         </div>
         <div class="labeled-input">
            <label class="lcell" for="years">Jaren:</label>
            <div class="rcell">
               <select id="years" class="input-cell"></select>
            </div>
         </div>
         <div class="labeled-input">
            <label class="lcell"></label>
            <div class="rcell">
               <input type="checkbox" id="per_album" checked /><label for="per_album">Per album</label>
            </div>
         </div>
         <div class="labeled-input">
            <label class="lcell" for="cb_sort">Sort:</label>
            <div class="rcell">
               <select id="cb_sort" class="input-cell"></select>
            </div>
         </div>
         @if (Model.State.DebugFlags != 0) {
               <span id="dbg_timings" class="txtbadge dbg-badge">T</span> <span id="dbg_esrequest" class="txtbadge  dbg-badge">Q</span>
         }
      </div>
   </nav>
</header>
<div id="content" class="full-width">
   @if (Model.State.AppMode == AppMode.Faces) {
      <div id="face_names" class="scroll_container_y bordered-slimbar"></div>
   }
   <div id="lightbox" class="scroll_container_y slimbar"></div>
</div>

</div>
@if (Model.State.AppMode != AppMode.Faces) {
   <div id="map" style="height:100%; width:100%;" class="hidden"></div>
}

<div id="overlay" class="slimbar" style="z-index:9999; transition: visibility 1s"></div>
<div id="context_menu" class="bm_menu bm_menu_round">
   <ul>
      <li id="ctx_goto_album" class="bm_menu_item">Ga naar album</li>
      <li id="ctx_goto_track" class="bm_menu_item">Ga naar track</li>
      @if (Model.RequestCtx.IsInternalIp) {
      <li id="ctx_goto_faces" class="bm_menu_item">Ga naar gezichten</li>
      }
      <li id="ctx_goto_map" class="bm_menu_item">Ga naar kaart</li>
      <li class="bm_menu_separator"></li>
      <li id="ctx_info" class="bm_menu_item">Toon informatie</li>
   </ul>
</div>
<div id="drag_proxy" style="z-index:9999; position:absolute; visibility:hidden"></div>


@section Scripts {
   <script type="text/javascript">
      app = createApplication(@Model.GetStateAsHtmlString());
      app.mapControl = createMapControl(app);
      app.lbControl = createLightboxControl(app);
      app.start(undefined, history.state ? "history" : undefined); 
   </script>
}   